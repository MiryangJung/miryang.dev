---
title: Next.jsë¡œ ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ ë§Œë“¤ê¸° with ì •ì  ìƒì„±
date: 2022-03-10
description: Next.js ì™€ tailwindë¥¼ ì‚¬ìš©í•´ ì •ì  ë¸”ë¡œê·¸ ë§Œë“¤ê¸°
thumbnailUrl: /posts/thumbnail/build-blog-with-nextjs.png
tags: ["next.js", "ë¸”ë¡œê·¸ ë§Œë“¤ê¸°", "contentlayer"]
---

> 23ë…„ 12ì›” ê¸°ì¤€ Nextê°€ `App Router`ë¡œ ë³€ê²½ë˜ë©´ì„œ, ì´ ê¸€ì€ deprecatedë˜ì—ˆìŠµë‹ˆë‹¤.  
> ì œ ë¸”ë¡œê·¸ëŠ” `Next App Router`ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤. [ì½”ë“œ ë³´ëŸ¬ê°€ê¸°](https://github.com/MiryangJung/miryang.dev)

---

ì´ ë¸”ë¡œê·¸ [miryang.dev](https://github.com/MiryangJung/miryang.dev) ëŠ” Next.jsë¡œ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.  
ì–´ë–»ê²Œ ë§Œë“œëŠ”ì§€ ê¶ê¸ˆí•´í•˜ì‹œëŠ” ë¶„ë“¤ì´ ë§ì•„ì„œ ê°€ì´ë“œì™€ í•¸ì¦ˆì˜¨ìŒ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤.

**Next.jsë¡œ ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°** [í•¸ì¦ˆì˜¨ ì„¸ì…˜](https://event-us.kr/miryang/event/42689) ì°¸ì—¬ì ëŒ€ìƒìœ¼ë¡œ ì‘ì„±ëœ ì•ˆë‚´ì„œë¡œ
ìì„¸í•œ ì„¤ëª…ì€ [í•¸ì¦ˆì˜¨](https://event-us.kr/miryang/event/42689)ì—ì„œ êµ¬ë‘ë¡œ í•©ë‹ˆë‹¤.

> í•¸ì¦ˆì˜¨ í›„ê¸°!
>
> - í˜¼ì í–ˆìœ¼ë©´ ì˜¤ë˜ ê±¸ë¦¬ê±°ë‚˜ ì¤‘ê°„ì— ê·¸ë§Œë’€ì„í…ë° ìì„¸íˆ ì„¤ëª…ë„ í•´ì£¼ì‹œê³  ì‹¤ì‹œê°„ìœ¼ë¡œ ë³´ì—¬ì£¼ì…”ì„œ ì˜ ë§Œë“¤ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤
> - ì¢‹ì€ ê°•ì˜ ê°ì‚¬í•©ë‹ˆë‹¤ ë•ë¶„ì— next.js ì˜ì—…ë‹¹í–ˆì–´ìš”!ã…‹ã…‹ã…‹ã…‹ã…‹ ë‹¤ìŒì—ë„ ë˜ ì°¸ì—¬í•˜ê³ ì‹¶ì–´ìš”!!
> - ë§Œì¡±ìŠ¤ëŸ¬ìš´ ê°•ì˜ì˜€ìŠµë‹ˆë‹¤. ë‹¤ìŒ ê°•ì˜ë„ ê¸°ë‹¤ë¦¬ê² ìŠµë‹ˆë‹¤ :)
> - ì•„ì§ next.jsë‚˜ ts ì§€ì‹ì´ ë¶€ì¡±í•´ì„œ ë”°ë¼ê°€ê¸° í˜ë“  ì ì€ ìˆì—ˆì§€ë§Œ ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤ëŠ”ê±¸ ì•Œ ìˆ˜ ìˆëŠ” ì ì´ ì¢‹ì•˜ì–´ìš”!
> - next.js ë¸”ë¡œê·¸ ë§Œë“¤ê¸°ë¥¼ ì˜ˆì „ì— ë„ì „í–ˆë‹¤ê°€ ì‹¤íŒ¨í•œ ê²½í—˜ì´ ìˆì—ˆì–´ìš”. ë¯¸ëŸ‰ë‹˜ ê°•ì˜ë¥¼ ë“¤ìœ¼ë‹ˆê¹Œ next.jsê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ (ë¼ìš°íŒ…, seo...) ì—ëŒ€í•´ ê°ì„ ì¡ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë„ˆë¬´ ê°ì‚¬í•´ìš”.

- [Github Repo](https://github.com/MiryangJung/Build-Own-blog-With-Next.js)

## ëª©í‘œ

- Next.jsë¥¼ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë´…ë‹ˆë‹¤.
- mdxë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.
- seoë¥¼ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë´…ë‹ˆë‹¤.
- ë¸”ë¡œê·¸ë¥¼ ë§Œë“œëŠ” íë¦„
- í”„ë¡œì íŠ¸ê°€ ë§Œë“¤ì–´ì§€ëŠ” íë¦„

## ë°°ìš¸ ìˆ˜ ì—†ëŠ” ê²ƒ

- Next.jsì˜ ìì„¸í•œ ì‚¬ìš©ë²•
- ìŠ¤íƒ€ì¼ë§ì„ í•˜ëŠ” ë°©ë²•
- ì½”ë“œë¥¼ ì–´ë–»ê²Œ ì‘ì„±í•´ì•¼í•˜ëŠ” ì§€

## ì¤€ë¹„ë¬¼

- Node.js v16.14.2 ì´ìƒ
- Git
- vscode
- yarn

## ì´ëŸ° ê±¸ ë§Œë“­ë‹ˆë‹¤.

- [ë°ëª¨ í˜ì´ì§€](https://build-own-blog-with-next-js.vercel.app)

![](/posts/build-blog-with-nextjs/1.gif)

## Next.js íŠ¹ì§•

- SSR (Server-Side-Rendering)
  - ìš”ì²­ ë•Œë§ˆë‹¤ HTMLë¥¼ ìƒì„±
- SSG (Static-Site-Generation)
  - ë¹Œë“œí•  ë•Œ HTMLë¥¼ ìƒì„±
- File-system Routing
  - `pages/index.js` -> `/`
  - `pages/blog/article.js` -> `/blog/article`

## ì™œ Next.jsë¥¼ ì‚¬ìš©í•˜ë‚˜ìš”?

- Pre-renderingì„ ì‚¬ìš©í•˜ë¯€ë¡œ **SEO** ìµœì í™”ì— ìœ ë¦¬
- ë¸”ë¡œê·¸ì˜ ê²½ìš° ì •ì  ì»¨í…ì¸ ì´ë¯€ë¡œ SSGë¡œ ë¹ ë¥¸ ë Œë”ë§ì„ ì œê³µ

`React`ì˜ ê²½ìš° ë„¤íŠ¸ì›Œí¬íƒ­ì—ì„œ `index.html` ì„ ë³´ë©´ ì»¨í…ì¸ ê°€ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŒ

![](/posts/build-blog-with-nextjs/1.png)

ì¦‰, CSRë¡œ ë¹Œë“œëœ `React` ì•±ì˜ ê²½ìš° í¬ë¡¤ë§ì„ í–ˆì„ ë•Œ
ëª¨ë“  í˜ì´ì§€ì—ì„œ ì»¨í…ì¸ ê°€ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì€ `index.html` ë§Œ ì½ê²Œ ë¨.

![](/posts/build-blog-with-nextjs/2.png)

`Next` ì˜ ê²½ìš° ë„¤íŠ¸ì›Œí¬íƒ­ì—ì„œ `index.html` ì„ ë³´ë©´ ì»¨í…ì¸ ê°€ í¬í•¨ë˜ì–´ ìˆìŒ

![](/posts/build-blog-with-nextjs/3.png)

ì¦‰, SSGë¡œ ë¹Œë“œëœ `html`ì„ ë Œë”ë§í•´ ì»¨í…ì¸ ê¹Œì§€ í¬ë¡¤ë§ ê°€ëŠ¥

![](/posts/build-blog-with-nextjs/4.png)

## 1ï¸âƒ£ 1. ì‹œì‘í•˜ê¸°

- [í•´ë‹¹ ë¸Œëœì¹˜](https://github.com/MiryangJung/Build-Own-blog-With-Next.js/tree/1/start)
- `git clone -b 1/start https://github.com/MiryangJung/Build-Own-blog-With-Next.js`

### ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì„¤ì¹˜

```bash
npx create-next-app@latest my-blog --typescript -y
# ë˜ëŠ”
yarn create next-app my-blog --typescript -y
```

### ë¶ˆí•„ìš” í´ë” ë° íŒŒì¼ ì‚­ì œ

- pages/api
- styles/Home.module.css
- pages/index.tsx

### tsconfig ì„¤ì •

ìœ ì—°í•œ ì§„í–‰ì„ ìœ„í•´ strict false ì‚¬ìš©

```json:tsconfig.json
{
  "compilerOptions": {
    "strict": false,
    ...
```

### tailwind ì„¤ì •

```bash
yarn add -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

```javascript:tailwind.config.js
module.exports = {
  content: [
    "./pages/**/*.{js,ts,jsx,tsx}",
 	  "./components/**/*.{js,ts,jsx,tsx}",
 ],
 theme: {
    extend: {},
 },
 plugins: [],
}
```

```css:globals.css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

### vscode í™•ì¥í”„ë¡œê·¸ë¨ ì„¤ì¹˜

- dbaeumer.vscode-eslint
- bradlc.vscode-tailwindcss
- esbenp.prettier-vscode

> [tailwind nextjs quide](https://tailwindcss.com/docs/guides/nextjs)

### Dev ëª¨ë“œë¡œ ì‹¤í–‰

```bash
yarn dev
```

## 2ï¸âƒ£ 2. ë¼ìš°íŒ…

- [í•´ë‹¹ ë¸Œëœì¹˜](https://github.com/MiryangJung/Build-Own-blog-With-Next.js/tree/2/routing)
- `git clone -b 2/routing https://github.com/MiryangJung/Build-Own-blog-With-Next.js`

### í˜ì´ì§€ ìƒì„±

`/` í˜ì´ì§€

```tsx:pages/index.tsx
const Home = () => {
  return <div className={`text-green-500 text-lg`}>Home</div>;
};

export default Home;
```

`/blog` í˜ì´ì§€

```tsx:pages/blog.tsx
const Blog = () => {
  return <div className={`text-red-500 text-lg`}>Blog</div>;
};

export default Blog;
```

### GNB ë§Œë“¤ê¸°

> GNB : Global Navigation Bar  
> [next/link](https://nextjs.org/docs/api-reference/next/link)  
> [next-js-link-vs-router-push-vs-a-tag](https://stackoverflow.com/questions/65086108/next-js-link-vs-router-push-vs-a-tag)

nav ë§í¬ë“¤ì„ ì‰½ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ `navlinks` ìƒì„±

```ts:data/navlinks.ts
const navlinks: { title: string; link: string }[] = [
  { title: "Home", link: "/" },
  { title: "Blog", link: "/blog" },
];

export default navlinks;
```

`navlinks` ë¥¼ ì½ëŠ” `Nav` ì»´í¬ë„ŒíŠ¸ ìƒì„±

```tsx:components/Nav.tsx
import navlinks from "../data/navlinks";
import Link from "next/link";

const Nav = () => {
  return (
    <nav>
      {navlinks.map((nav) => (
        <Link href={nav.link} key={nav.title}>
          <a className={`mr-5`}>{nav.title}</a>
        </Link>
      ))}
    </nav>
  );
};

export default Nav;
```

`Container` ìƒì„±

```tsx:components/Container.tsx
import Head from "next/head";
import Nav from "./Nav";

const Container = (props) => {
  return (
    <>
      <Head>
        <title>ë‚´ ë¸”ë¡œê·¸</title>
      </Head>
      <header>
        <Nav />
      </header>
      <main>{props.children}</main>
    </>
  );
};

export default Container;
```

`Container` ì ìš©

```tsx:pages/index.tsx
import Container from "../components/Container";

const Home = () => {
  return (
    <Container>
      <span className={`font-bold`}>HOME</span>
    </Container>
  );
};

export default Home;
```

```tsx:pages/blog.tsx
import Container from "../components/Container";

const Blog = () => {
  return (
    <Container>
      <span className={`font-bold`}>BLOG</span>
    </Container>
  );
};

export default Blog;
```

## 3ï¸âƒ£ 3. ìŠ¤íƒ€ì¼ë§

- [í•´ë‹¹ ë¸Œëœì¹˜](https://github.com/MiryangJung/Build-Own-blog-With-Next.js/tree/3/styling)
- `git clone -b 3/styling https://github.com/MiryangJung/Build-Own-blog-With-Next.js`

ì‰¬ìš´ ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•´ `metadata.ts` ìƒì„±

```ts:data/metadata.ts
const metadata = {
  title: "My Blog",
};

export default metadata;
```

`public` í´ë”ì— `logo.jpg` ìƒì„±, **Header** ìŠ¤íƒ€ì¼ë§

```tsx:components/Container.tsx
...ì¤‘ëµ
const Container = (props) => {
  return (
    <div className={`w-full flex flex-col items-center p-3`}>
      <Head>
        <title>{metadata.title}</title>
      </Head>
      <header
        className={`w-full max-w-3xl flex flex-row justify-between items-center my-1`}
      >
        <div className={`flex flex-row items-center`}>
          <Image
            src={`/logo.jpg`}
            alt="ë¡œê³ "
            width={40}
            height={40}
            objectFit={`cover`}
            className={`rounded-full`}
          />
          <span className={`mx-2 font-extralight text-lg`}>
            {metadata.title}
          </span>
        </div>
        <Nav />
      </header>
      <main className={`w-full max-w-3xl`}>{props.children}</main>
    </div>
  );
};
```

**/home** ì—ì„œ ì‚¬ìš©í•  ìµœê·¼ ê²Œì‹œë¬¼ ëª©ë¡ ì»´í¬ë„ŒíŠ¸ ìƒì„±

```tsx:components/RecentPosts.tsx
import Link from "next/link";

const RecentPosts = () => {
  return (
    <section className={`mt-10`}>
      <h1 className={`text-3xl font-extrabold`}>ìµœê·¼ ê²Œì‹œë¬¼</h1>
      <div className={`flex flex-col`}>
        <Link href="/" passHref>
          <a className="mt-5">
            <div className={`font-medium text-xl`}>
              ê²Œì‹œë¬¼ ì œëª©ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
            </div>
            <div className={`font-light`}>ê²Œì‹œë¬¼ ì„¤ëª…ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</div>
          </a>
        </Link>
        <Link href="/" passHref>
          <a className="mt-5">
            <div className={`font-medium text-xl`}>Hello!</div>
            <div className={`font-light`}>ì•ˆë…•í•˜ì„¸ìš”.</div>
          </a>
        </Link>
      </div>
    </section>
  );
};

export default RecentPosts;
```

`public` í´ë”ì— `home.jpg` ìƒì„±, **/home** ìŠ¤íƒ€ì¼ë§

```tsx:pages/index.tsx
...ì¤‘ëµ
const Home = () => {
  return (
    <Container>
      <div className={`my-5 w-full`}>
        <div className={`relative`}>
          <Image
            src={`/home.jpg`}
            alt="ëŒ€í‘œ ì´ë¯¸ì§€"
            width={`100%`}
            height={45}
            layout={`responsive`}
            objectFit="cover"
            className={`rounded-3xl`}
          />
          <span
            className={`absolute top-12 font-extrabold italic text-white text-5xl md:text-9xl text flex justify-center w-full drop-shadow-lg`}
          >
            {metadata.title}
          </span>
        </div>
        <RecentPosts />
      </div>
    </Container>
  );
};
```

**/blog** ê¸€ ëª©ë¡ì— ì‚¬ìš©ë  ì»´í¬ë„ŒíŠ¸ ìƒì„±

```tsx:components/BlogPost.tsx
import Link from "next/link";

const BlogPost = () => {
  return (
    <Link href="/blog" passHref>
      <a className="w-full my-7 hover:-translate-x-1.5">
        <div className="font-medium text-xs text-gray-400">2022.02.10</div>
        <div className={`font-extrabold text-2xl mt-2`}>
          ğŸ’™ ê²Œì‹œë¬¼ ì œëª©ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
        </div>
        <div className={`font-medium text-gray-600 text-xl mt-1`}>
          ê²Œì‹œë¬¼ ì„¤ëª…ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
        </div>
      </a>
    </Link>
  );
};

export default BlogPost;
```

**/blog** ìŠ¤íƒ€ì¼ë§

```tsx:pages/blog.tsx
import BlogPost from "../components/BlogPost";
import Container from "../components/Container";

const Blog = () => {
  return (
    <Container>
      <div className={`mt-10 flex flex-col`}>
        <BlogPost />
        <BlogPost />
        <BlogPost />
      </div>
    </Container>
  );
};

export default Blog;
```

## 4ï¸âƒ£ 4. contentlayer

- [í•´ë‹¹ ë¸Œëœì¹˜](https://github.com/MiryangJung/Build-Own-blog-With-Next.js/tree/4/contentlayer)
- `git clone -b 4/contentlayer https://github.com/MiryangJung/Build-Own-blog-With-Next.js`

> [contentlayer](https://github.com/contentlayerdev/contentlayer)  
> "contentlayer": "^0.2.6" ë²„ì „ ì‚¬ìš©  
> Tip! ì•„ì§ ë² íƒ€ë‹¨ê³„ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ì„œ [Who is using Contentlayer?](https://github.com/contentlayerdev/contentlayer#who-is-using-contentlayer) ì´ˆë°˜ì— ë¸”ë¡œê·¸ ì´ë¦„ ì˜¬ë¦´ ìˆ˜ ìˆìŒ

`contentlayer` ì„¤ì¹˜

```bash
yarn add contentlayer next-contentlayer
```

`contentlayer` ì„¤ì •

```ts:contentlayer.config.ts
import { defineDocumentType, makeSource } from "contentlayer/source-files";

export const Post = defineDocumentType(() => ({
  name: "Post",
  contentType: "mdx",
  filePathPattern: `**/*.mdx`,
  fields: {
    title: { type: "string", required: true },
    date: { type: "string", required: true },
    description: { type: "string", required: true },
  },
}));

export default makeSource({
  contentDirPath: "posts",
  documentTypes: [Post],
});
```

Next.js í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì„¤ì •

```js:next.config.js
const { withContentlayer } = require("next-contentlayer");

module.exports = withContentlayer({
  reactStrictMode: true,
});
```

`.mdx` íŒŒì¼ ìƒì„±

```md:posts/first.mdx
---
title: Miryangì˜ Next.js í•¸ì¦ˆì˜¨
date: 2022-03-10
description: ì„¤ëª…ë€ì…ë‹ˆë‹¤. ì„¤ëª…ì„ ì ì–´ìš”~
---

## ì œëª©

- ë‚´ìš© 1
- ë‚´ìš© 2
```

path ì„¤ì •

```json:tsconfig.json
"compilerOptions": {
    ...
    "baseUrl": ".",
    "paths": {
      "contentlayer/generated": ["./.contentlayer/generated"]
    }
},
"include": [
    ...
    ".contentlayer/generated"
], ...
```

ì„œë²„ë¥¼ ì¬ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë¬¸êµ¬ê°€ ë‚˜íƒ€ë‚¨  
**.contentlayer/generated/Post** ì—ì„œ ìƒì„±ëœ documentë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŒ

```
Generated 1 documents in .contentlayer
```

`BlogPost` ë¥¼ **title**, **des** ë¥¼ propsë¡œ ë°›ë„ë¡ ë³€ê²½

```tsx:components/BlogPost.tsx
import Link from "next/link";

const BlogPost = ({ date, title, des, slug }) => {
  return (
    <Link href={`/blog/${slug}`} passHref>
      <a className="w-full my-7 hover:-translate-x-1.5">
        <div className="font-medium text-xs text-gray-400">{date}</div>
        <div className={`font-extrabold text-2xl mt-2`}>{title}</div>
        <div className={`font-medium text-gray-600 text-xl mt-1`}>{des}</div>
      </a>
    </Link>
  );
};

export default BlogPost;
```

ìƒì„±ëœ **posts**ë¥¼ ì½ì–´ì„œ Blog ëª©ë¡ìœ¼ë¡œ ë°˜í™˜

> getStaticeProps : ì‚¬ì „ ë Œë”ë§ í”„ë¡œì„¸ìŠ¤ ë™ì•ˆ ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰, ì¦‰ ë¹Œë“œí•  ë•Œ ì‹¤í–‰

```tsx:pages/blog.tsx
...
import { allPosts } from "contentlayer/generated";
import { InferGetStaticPropsType } from "next";

const Blog = ({ posts }: InferGetStaticPropsType<typeof getStaticProps>) => {
  return (
    <Container>
      <div className={`mt-10 flex flex-col`}>
        {posts.map((post) => (
          <BlogPost
            date={post.date}
            title={post.title}
            des={post.description}
            slug={post._raw.flattenedPath}
            key={post._id}
          />
        ))}
      </div>
    </Container>
  );
};

export const getStaticProps = async () => {
  const posts = allPosts.sort(
    (a, b) => Number(new Date(b.date)) - Number(new Date(a.date))
  );

  return {
    props: {
      posts,
    },
  };
};

export default Blog;
```

ë˜‘ê°™ì€ ë°©ë²•ìœ¼ë¡œ **ìµœê·¼ê²Œì‹œë¬¼**ì—ë„ ì ìš©

> RecentPostsë„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬ ê°€ëŠ¥í•˜ë‚˜, ì‹¤ìŠµì„ ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ í˜•íƒœ ì‚¬ìš©

```tsx:components/RecentPosts.tsx
import Link from "next/link";

const RecentPosts = ({ posts }) => {
  return (
    <section className={`mt-10`}>
      <h1 className={`text-3xl font-extrabold`}>ìµœê·¼ ê²Œì‹œë¬¼</h1>
      <div className={`flex flex-col`}>
        {posts.slice(0, 5).map((post) => (
          <Link
            key={post._id}
            href={`/blog/${post._raw.flattenedPath}`}
            passHref
          >
            <a className="mt-5">
              <div className={`font-medium text-xl`}>{post.title}</div>
              <div className={`font-light`}>{post.description}</div>
            </a>
          </Link>
        ))}
      </div>
    </section>
  );
};

export default RecentPosts;
```

```tsx:pages/index.tsx
...
import { allPosts } from "contentlayer/generated";
import { InferGetStaticPropsType } from "next";

const Home = ({ posts }: InferGetStaticPropsType<typeof getStaticProps>) => {
  return (
    <Container>
      <div className={`my-5 w-full`}>
       ...
        <RecentPosts posts={posts} />
      </div>
    </Container>
  );
};

export const getStaticProps = async () => {
  const posts = allPosts.sort(
    (a, b) => Number(new Date(b.date)) - Number(new Date(a.date))
  );
  return {
    props: {
      posts,
    },
  };
};

export default Home;
```

## 5ï¸âƒ£ 5. Blog Post

- [í•´ë‹¹ ë¸Œëœì¹˜](https://github.com/MiryangJung/Build-Own-blog-With-Next.js/tree/5/post)
- `git clone -b 5/post https://github.com/MiryangJung/Build-Own-blog-With-Next.js`

blog ê¸€ í˜ì´ì§€ ìƒì„±  
post codeë¥¼ htmlë¡œ ë³€í™˜

> `getStaticePaths` : ë¹Œë“œë˜ì–´ì•¼í•  ë™ì  ë¼ìš°íŠ¸ë“¤ì„ ëª…ì‹œ

```tsx:pages/blog/[slug].tsx
import Container from "components/Container";
import { allPosts } from "contentlayer/generated";
import { InferGetStaticPropsType } from "next";
import { useMDXComponent } from "next-contentlayer/hooks";

const Post = ({ post }: InferGetStaticPropsType<typeof getStaticProps>) => {
  const MDXComponent = useMDXComponent(post.body.code);
  return (
    <Container>
      <div className="mt-10 prose">
        <h1 className="text-sky-700">{post.title}</h1>
        <MDXComponent />
      </div>
    </Container>
  );
};

export const getStaticPaths = async () => {
  return {
    paths: allPosts.map((p) => ({ params: { slug: p._raw.flattenedPath } })),
    fallback: false,
  };
};

export const getStaticProps = async ({ params }) => {
  const post = allPosts.find((p) => p._raw.flattenedPath === params.slug);
  return {
    props: {
      post,
    },
  };
};

export default Post;
```

ê¸°ë³¸ html ì»¨í…ì¸ ì— ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•´ì£¼ëŠ” tailwind í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜

> [@tailwindcss/typography](https://tailwindcss.com/docs/typography-plugin)

```bash
yarn add -D @tailwindcss/typography
```

```js:tailwind.config.js
module.exports = {
  content: [
    "./pages/**/*.{js,ts,jsx,tsx}",
    "./components/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [require("@tailwindcss/typography")],
};
```

## 6ï¸âƒ£ 6. SEO

- [í•´ë‹¹ ë¸Œëœì¹˜](https://github.com/MiryangJung/Build-Own-blog-With-Next.js/tree/6/seo)
- `git clone -b 6/seo https://github.com/MiryangJung/Build-Own-blog-With-Next.js`

> Search Engine Optimization  
> ê²€ìƒ‰ ì—”ì§„ì—ì„œì˜ ë…¸ì¶œë„ë¥¼ ë†’ì´ë„ë¡ ì‚¬ì´íŠ¸ë¥¼ ê°œì„ í•˜ëŠ” ìµœì í™” ì‘ì—…  
> [ì°¸ê³  ì½”ë“œ](https://github.com/leerob/leerob.io/blob/main/components/Container.tsx)

> í•¸ì¦ˆì˜¨ì—ì„œ ë‹¤ë£¨ì§€ ì•Šì§€ë§Œ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬  
> [next-seo](https://github.com/garmeeh/next-seo)

metadataì— ê°’ ì¶”ê°€

```ts:data/metadata.ts
const metadata = {
  title: "My Blog",
  description: "who's blog",
  author: "MiryangJung",
};

export default metadata;
```

**Head**ì— custommetaë¥¼ ì ìš©í•  ìˆ˜ ìˆê²Œ ìˆ˜ì •

```tsx:components/Container.tsx

const Container = (props) => {
  const meta = {
    title: metadata.title,
    description: metadata.description,
    author: metadata.author,
    ...props.customMeta,
  };

  return (
    <div className={`w-full flex flex-col items-center p-3`}>
      <Head>
        <title>{meta.title}</title>
        <meta content={meta.description} name="description" />
        <meta property="og:site_name" content={meta.author} />
      </Head>
...
```

blog postì— custommeta ì„¤ì •

```tsx:pages/blog/[slug].tsx
  const customMeta = {
    title: post.title,
    description: post.description,
    date: new Date(post.date).toISOString(),
  };

  return (
    <Container customMeta={customMeta}>
      <div className="mt-10 prose">
        <h1 className="text-sky-700">{post.title}</h1>
        <MDXComponent />
      </div>
    </Container>
  );
```

sitemap ìƒì„±

```bash
yarn add next-sitemap -D
```

```js:next-sitemap.js
module.exports = {
  siteUrl: 'https://example.com',
  generateRobotsTxt: true,
}
```

```json:package.json
"scripts": {
    "postbuild": "next-sitemap",
},
```

## 7ï¸âƒ£ 7. ë°°í¬

> [vercel](https://vercel.com)

1. ë¸”ë¡œê·¸ ì½”ë“œë¥¼ githubì— ì˜¬ë¦¬ê¸°
2. **vercel** ì ‘ì† í›„ ë¡œê·¸ì¸
3. New Project í´ë¦­
4. ë¸”ë¡œê·¸ repo import
5. project name ì„¤ì •
6. deploy
